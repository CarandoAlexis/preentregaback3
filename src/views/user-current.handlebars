<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Opciones para Usuario</title>
</head>
<ul>
  {{#each products}}
  <li>
    <h3>{{title}}</h3>
    <p>{{description}}</p>
    <p>Precio: {{price}}</p>
    <button onclick="addProductToCart('{{_id}}')">Agregar al Carrito</button>
  </li>
  {{/each}}
</ul>
<script>
  async function addProductToCart(productId) {
    try {
      const response = await fetch(`/api/cart/{{cartId}}/add/${productId}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
        },
      });

      if (response.ok) {
        console.log('Producto agregado al carrito');
        // Actualizar la página o mostrar un mensaje de éxito si lo deseas
      } else {
        console.error('Error al agregar producto al carrito:', response.statusText);
      }
    } catch (error) {
      console.error('Error al agregar producto al carrito:', error);
    }
  }
</script>
</body>
</html>